# 第一天问题汇总

## RESTful调用和 RPC调用有什么区别？如果让你设计一个RPC服务治理框架你会设计那些模块？是否了解过Service Mesh，如果了解Service Mesh是用来解决什么问题的？

> 1、RESTful是一种软件架构风格，用于约束客户端和服务器交互，满足这些约束条件和原则的应用程序或设计就是 RESTful。比如HTTP协议使用同一个URL地址，通过GET，POST，PUT，DELETE等方式实现查询、提交、删除数据。RPC是远程过程调用，是用于解决分布式系统服务间调用的一种方式。RPC采用客户端与服务端模式，双方通过约定的接口（常见为通过IDL定义或者是代码定义）以类似本地方法调用的方式来进行交互，客户端根据约定传输调用函数+参数给服务端（一般是网络传输TCP/UDP），服务端处理完按照约定将返回值返回给客户端。
>
> 重点为RESTful HTTP的约束风格，RPC调用模型。
>
> 1、可分为两大部分RPC +服务治理
> RPC部分 = IDL  +客户端/服务端实现层 +协议层 +数据传输层
> 服务治理 =服务管理（注册中心） +服务监控 +服务容灾 +服务鉴权
>
> 2、 Service Mesh为了解决传统微服务框架"胖客户端"方式，引入的如下问题：
> 与业务无关的服务治理逻辑与业务代码强耦合，框架、SDK的升级与业务代码强绑定，多语言的胖客户端支持起来性价比极低。

## 请描述避免多线程竞争时有哪些手段？

> \1) 不可变对象；
>
> \2) 互斥锁；
>
> \3) ThreadLocal 对象；
>
> \4) CAS；

## 请简述HTTP的5个常用Method及其含义，以及5个常用Status Code及其含义？HTTP与HTTPS的区别是什么，简述一下HTTPS的实现原理。

> get 从服务器端获取资源
>
> put 提交资源
>
> post 更新资源
>
> delete 删除资源
>
> connect 建立tunnel隧道
>
> 100 请求已收到，正等待后续资源
>
> 200 ok 成功
>
> 206 partial content 部分资源
>
> 301 永久重定向
>
> 400 bad request 客户端请求语法错误
>
> https是http加上ssl的应用层协议。在http的基础上增加了安全性和可靠性。
>
> 端口的不同：http默认是80端口， https默认是443端口
>
> 安全性：http是明文传输，https是密文传输。
>
> 认证：http没有认证，【原错误回答：https在建立TCP连接前会进行ssl层的握手】**https****是先进行TCP连接，再进行SSL层的握手，**在这个过程中需要认证。
>
> 成本上：https的证书需要成本，同时加密和解密时对CPU和内存开销增加。
>
> https的原理：
>
> https通信时，首先建立ssl层的连接，客户端将ssl版本号和加密组件发到客户端，客户端收到后对ssl版本号和加密组件进行匹配，同时将CA证书及密钥发送到客户端。客户端对证书进行验证，验证通过后使用非对称加密对数据通信时的密钥进行协商。协商后得到一致的获得一致的对称加密密钥。然后使用对称加密算法进行【原错误回答：TCP连接】**数据交换**，后续的过程跟http的过程一致。三次握手，数据交换，四次挥手，通信结束。
>
> HTTP常用Method列举：
>
> \1. HEAD --- 获取报文头部信息。
>
> \2. GET --- 返回报文主体信息，不会对数据产生任何影响。
>
> \3. POST --- 传输实体主体，用于给服务器发送数据，如表单提交等
>
> \4. OPTIONS --- 询问支持方法
>
> \5. PUT --- 传输文件，报文主体中包含文件内容，保存到指定URI资源的存放位置
>
> \6. DELETE --- 删除指定URI下的指定资源。
>
> \-------------------------------------------------------
>
> 常用Status Code
>
> \* 200 OK 标识请求已经完成。
>
> \* 403 Forbidden 没有访问资源的权限
>
> \* 404 NOT FOUND 找不到请求资源
>
> \* 500 Not Implement 服务端不支持或不能被处理。
>
> \* 502 Bad Getaway 网关错误

